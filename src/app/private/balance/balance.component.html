<div class="scrollable-tab-area" *ngIf="!goodFriends else good">
  <div *ngIf="loading" class="loading">
    <mat-spinner></mat-spinner>
    <div class="click-handler"></div>
  </div>
  <div class="reduce-container" *ngIf="hasCredits else myCredit">
    <div class="select-container" [formGroup]="formGroup">
      <mat-select [disableOptionCentering]="true" [(value)]="selectedPerson" (selectionChange)="onChangePerson()">
        <mat-option *ngFor="let person of persons" [value]="person">
          {{person}}
        </mat-option>
      </mat-select>
      <input matInput type="number" autocomplete="off" formControlName="amount" [max]="999" [min]="0">
    </div>
    <mat-error
      *ngIf="formGroup.controls.amount.hasError('min') || formGroup.controls.amount.hasError('max') || formGroup.controls.amount.hasError('required')">
      Размер суммы должен быть между 1 и {{maxValue}} рублей
    </mat-error>

    <button mat-raised-button color="primary" type="button" (click)="reduce()">Списать</button>

  </div>
  <canvas id="myChart" style="height: 350px; width: 100vw; margin-top: 14px"></canvas>
  <div class="common-write-off-container" *ngIf="hasMetualCredits">
    <button mat-raised-button color="primary" type="button" (click)="mutualReduce()">Взаимное списание</button>
  </div>
</div>

<ng-template #myCredit>
  <p class="info">Всего моя задолженность: {{allCredit}}</p>
</ng-template>
<ng-template #good>
  <div class="good">
    <mat-icon>sentiment_satisfied_alt</mat-icon>
    <p>Вы чисты перед долгами)</p>
  </div>
</ng-template>
